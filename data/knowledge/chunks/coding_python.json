{
  "chunks": [
    {
      "id": "coding_flask_rest_001",
      "content": "Flask REST API Best Practices (2024):\n\n```python\nfrom flask import Flask, request, jsonify\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_cors import CORS\nfrom datetime import datetime\nfrom functools import wraps\nimport os\n\napp = Flask(__name__)\nCORS(app)  # Enable CORS for frontend\n\n# Configuration\napp.config['SQLALCHEMY_DATABASE_URI'] = os.getenv('DATABASE_URL', 'sqlite:///app.db')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\napp.config['SECRET_KEY'] = os.getenv('SECRET_KEY', 'dev-key-change-in-prod')\n\ndb = SQLAlchemy(app)\n\n# ========== MODELS ==========\n\nclass Task(db.Model):\n    __tablename__ = 'tasks'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(200), nullable=False)\n    description = db.Column(db.Text)\n    priority = db.Column(db.String(20), default='medium')\n    due_date = db.Column(db.DateTime)\n    completed = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    def to_dict(self):\n        return {\n            'id': self.id,\n            'title': self.title,\n            'description': self.description,\n            'priority': self.priority,\n            'due_date': self.due_date.isoformat() if self.due_date else None,\n            'completed': self.completed,\n            'created_at': self.created_at.isoformat(),\n            'updated_at': self.updated_at.isoformat()\n        }\n\n# ========== ERROR HANDLERS ==========\n\n@app.errorhandler(400)\ndef bad_request(e):\n    return jsonify({'error': 'Bad request', 'message': str(e)}), 400\n\n@app.errorhandler(404)\ndef not_found(e):\n    return jsonify({'error': 'Not found', 'message': str(e)}), 404\n\n@app.errorhandler(500)\ndef server_error(e):\n    return jsonify({'error': 'Server error', 'message': 'Internal server error'}), 500\n\n# ========== API ROUTES ==========\n\n@app.route('/api/tasks', methods=['GET'])\ndef get_tasks():\n    \"\"\"List all tasks with optional filtering.\"\"\"\n    completed = request.args.get('completed', type=lambda x: x.lower() == 'true')\n    priority = request.args.get('priority')\n    \n    query = Task.query\n    if completed is not None:\n        query = query.filter_by(completed=completed)\n    if priority:\n        query = query.filter_by(priority=priority)\n    \n    tasks = query.order_by(Task.created_at.desc()).all()\n    return jsonify([t.to_dict() for t in tasks])\n\n@app.route('/api/tasks', methods=['POST'])\ndef create_task():\n    \"\"\"Create a new task.\"\"\"\n    data = request.get_json()\n    \n    if not data or not data.get('title'):\n        return jsonify({'error': 'Title is required'}), 400\n    \n    task = Task(\n        title=data['title'],\n        description=data.get('description'),\n        priority=data.get('priority', 'medium'),\n        due_date=datetime.fromisoformat(data['due_date']) if data.get('due_date') else None\n    )\n    \n    db.session.add(task)\n    db.session.commit()\n    \n    return jsonify(task.to_dict()), 201\n\n@app.route('/api/tasks/<int:task_id>', methods=['GET'])\ndef get_task(task_id):\n    \"\"\"Get a single task by ID.\"\"\"\n    task = Task.query.get_or_404(task_id)\n    return jsonify(task.to_dict())\n\n@app.route('/api/tasks/<int:task_id>', methods=['PUT'])\ndef update_task(task_id):\n    \"\"\"Update an existing task.\"\"\"\n    task = Task.query.get_or_404(task_id)\n    data = request.get_json()\n    \n    if 'title' in data:\n        task.title = data['title']\n    if 'description' in data:\n        task.description = data['description']\n    if 'priority' in data:\n        task.priority = data['priority']\n    if 'completed' in data:\n        task.completed = data['completed']\n    if 'due_date' in data:\n        task.due_date = datetime.fromisoformat(data['due_date']) if data['due_date'] else None\n    \n    db.session.commit()\n    return jsonify(task.to_dict())\n\n@app.route('/api/tasks/<int:task_id>', methods=['DELETE'])\ndef delete_task(task_id):\n    \"\"\"Delete a task.\"\"\"\n    task = Task.query.get_or_404(task_id)\n    db.session.delete(task)\n    db.session.commit()\n    return '', 204\n\n# ========== INITIALIZATION ==========\n\ndef init_db():\n    with app.app_context():\n        db.create_all()\n\nif __name__ == '__main__':\n    init_db()\n    app.run(debug=True, host='0.0.0.0', port=5000)\n```",
      "category": "coding",
      "subcategory": "python",
      "tags": [
        "flask",
        "rest-api",
        "python",
        "sqlalchemy",
        "crud",
        "backend"
      ],
      "source": "local",
      "source_url": null,
      "created_at": "2026-01-28T14:19:13.537396"
    }
  ]
}